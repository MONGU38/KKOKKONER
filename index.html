<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¼¬ê¼¬ë„ˆ - ê¼¬ë¦¬ì— ê¼¬ë¦¬ë¥¼ ë¬¼ì–´ ì°¾ì€ ë„ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .screen {
            display: none;
        }
        
        .screen.active {
            display: block;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }
        
        .input-group input, .input-group textarea, .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .input-group input:focus, .input-group textarea:focus, .input-group select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            margin-bottom: 10px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: #f8f9fa;
            color: #667eea;
            border: 2px solid #667eea;
        }
        
        .category-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .category-btn {
            padding: 15px 10px;
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .category-btn:hover, .category-btn.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .notice {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 14px;
            color: #856404;
        }
        
        .match-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .match-item:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }
        
        .match-name {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .match-score {
            color: #667eea;
            font-size: 14px;
        }
        
        .chat-container {
            height: 300px;
            overflow-y: auto;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 15px;
            background: #fafafa;
        }
        
        .message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 8px;
            max-width: 80%;
        }
        
        .message.sent {
            background: #667eea;
            color: white;
            margin-left: auto;
        }
        
        .message.received {
            background: white;
            border: 1px solid #e0e0e0;
        }
        
        .stats {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            border-radius: 8px;
            font-size: 12px;
            z-index: 1000;
        }
        
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- í†µê³„ í‘œì‹œ -->
    <div class="stats" id="stats">
        <div>ê°€ì…ì: <span id="userCount">0</span>ëª…</div>
        <div>ë§¤ì¹­ì‹œë„: <span id="matchAttempts">0</span>íšŒ</div>
        <div>ì±„íŒ…ì‹œì‘: <span id="chatStarts">0</span>íšŒ</div>
    </div>

    <div class="container">
        <div class="header">
            <div class="logo">ê¼¬ê¼¬ë„ˆ</div>
            <div class="subtitle">ê¼¬ë¦¬ì— ê¼¬ë¦¬ë¥¼ ë¬¼ì–´ ì°¾ì€ ë„ˆ</div>
        </div>

        <!-- 1. ì´ˆê¸° í™”ë©´ -->
        <div class="screen active" id="loginScreen">
            <div class="card">
                <h2 style="text-align: center; margin-bottom: 20px;">ì‹œì‘í•˜ê¸°</h2>
                <div class="input-group">
                    <label>ì´ë¦„ (ì‹¤ëª… ë˜ëŠ” ë‹‰ë„¤ì„)</label>
                    <input type="text" id="userName" placeholder="í™ê¸¸ë™">
                </div>
                <div class="input-group">
                    <label>ì—°ë½ì²˜ (ì„ íƒì‚¬í•­)</label>
                    <input type="text" id="userContact" placeholder="010-1234-5678">
                </div>
                <button class="btn" onclick="startApp()">ê¼¬ê¼¬ë„ˆ ì‹œì‘í•˜ê¸°</button>
            </div>
        </div>

        <!-- 2. ê¸°ë³¸ ì •ë³´ ì…ë ¥ -->
        <div class="screen" id="basicInfoScreen">
            <div class="card">
                <div class="notice">
                    <strong>[ì…ë ¥ì‹œ ì£¼ì˜ì‚¬í•­]</strong><br>
                    í•„ë“œë§ˆë‹¤ ì…ë ¥í•  ë‚´ìš©ì´ ë§ì„ ê²½ìš° ë°˜ë“œì‹œ ì‰¼í‘œë¡œ êµ¬ë¶„í•´ì•¼ í•˜ë©° ë„ì–´ì“°ê¸°ëŠ” ë¬´ì‹œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                </div>
                
                <h3 style="margin-bottom: 20px;">ê¸°ë³¸ ì •ë³´ ì…ë ¥</h3>
                
                <div class="input-group">
                    <label>ì´ë¦„ (ê°€ëª…, ë³„ëª… ê°€ëŠ¥)</label>
                    <input type="text" id="basicName" placeholder="í™ê¸¸ë™, ê¸¸ë™ì´">
                </div>
                
                <div class="input-group">
                    <label>íƒœì–´ë‚œ ìƒë…„ì›”ì¼</label>
                    <input type="text" id="birthDate" placeholder="1980.05.15">
                </div>
                
                <div class="input-group">
                    <label>ì´ˆì¤‘ê³ ëŒ€í•™ê³¼ ì „ê³µ</label>
                    <textarea id="education" placeholder="ì„œìš¸ì´ˆë“±í•™êµ, ê°•ë‚¨ì¤‘í•™êµ, ì„œìš¸ê³ ë“±í•™êµ, ì—°ì„¸ëŒ€í•™êµ ê²½ì˜í•™ê³¼"></textarea>
                </div>
                
                <div class="input-group">
                    <label>ë¶€ëª¨ ì´ë¦„ê³¼ ì§ì—…</label>
                    <textarea id="parents" placeholder="ì•„ë²„ì§€ í™ì² ìˆ˜ ê³µë¬´ì›, ì–´ë¨¸ë‹ˆ ê¹€ì˜í¬ êµì‚¬"></textarea>
                </div>
                
                <div class="input-group">
                    <label>í˜•ì œ ì´ë¦„ê³¼ ë³„ëª…</label>
                    <textarea id="siblings" placeholder="í˜• í™ê¸¸ìˆœ ìˆœì´, ëˆ„ë‚˜ í™ê¸¸ì ìì"></textarea>
                </div>
                
                <div class="input-group">
                    <label>ì‹ ì²´ íŠ¹ì§• (ë¬¸ì‹ , ì , ë¶ˆêµ¬)</label>
                    <textarea id="physicalFeatures" placeholder="ì™¼ì† ê²€ì§€ì— ì , ì˜¤ë¥¸íŒ”ì— ë¬¸ì‹ "></textarea>
                </div>
                
                <div class="input-group">
                    <label>ë§ì´ ì•„íŒ ë˜ ë³‘ëª…</label>
                    <textarea id="illnesses" placeholder="ì–´ë¦´ ë•Œ íë ´, ë§¹ì¥ì—¼ ìˆ˜ìˆ "></textarea>
                </div>
                
                <div class="input-group">
                    <label>ì‚´ë˜ ë™ë„¤ ì „ë¶€</label>
                    <textarea id="neighborhoods" placeholder="ì„œìš¸ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™, ë¶€ì‚° í•´ìš´ëŒ€êµ¬ ìš°ë™"></textarea>
                </div>
                
                <div class="input-group">
                    <label>ê¸°íƒ€ (í•˜ê³  ì‹¶ì€ ì´ì•¼ê¸°ë“¤)</label>
                    <textarea id="others" placeholder="ì–´ë–¤ ì´ì•¼ê¸°ë“  ììœ ë¡­ê²Œ ì ì–´ì£¼ì„¸ìš”"></textarea>
                </div>
                
                <button class="btn" onclick="saveBasicInfo()">ì €ì¥</button>
            </div>
        </div>

        <!-- 3. ì¹´í…Œê³ ë¦¬ ì„ íƒ -->
        <div class="screen" id="categoryScreen">
            <div class="card">
                <h3 style="margin-bottom: 20px;">ì¹´í…Œê³ ë¦¬ ì„ íƒ</h3>
                <p style="margin-bottom: 20px; color: #666;">ì–´ë–¤ ë¶„ì„ ì°¾ê³  ê³„ì‹ ê°€ìš”?</p>
                
                <div class="category-grid">
                    <div class="category-btn" onclick="selectCategory('ì‹¤ì¢…ì•„ë™')">ì‹¤ì¢…ì•„ë™<br>ë° ê°€ì¡±</div>
                    <div class="category-btn" onclick="selectCategory('ì´ì‚°ê°€ì¡±')">ì´ì‚°ê°€ì¡±</div>
                    <div class="category-btn" onclick="selectCategory('ë™ë„¤ì¹œêµ¬')">ë™ë„¤ì¹œêµ¬</div>
                    <div class="category-btn" onclick="selectCategory('í•™êµì¹œêµ¬')">í•™êµì¹œêµ¬</div>
                    <div class="category-btn" onclick="selectCategory('ì—°ì¸ì°¾ê¸°')">ì—°ì¸ì°¾ê¸°</div>
                    <div class="category-btn" onclick="selectCategory('êµ°ëŒ€ì¹œêµ¬')">êµ°ëŒ€ì¹œêµ¬</div>
                </div>
                
                <button class="btn btn-secondary" onclick="showScreen('basicInfoScreen')">ê¸°ë³¸ì •ë³´ ìˆ˜ì •</button>
            </div>
        </div>

        <!-- 4. ìƒì„¸ ì •ë³´ ì…ë ¥ (í•™êµì¹œêµ¬ ì˜ˆì‹œ) -->
        <div class="screen" id="detailInfoScreen">
            <div class="card">
                <div class="notice">
                    <strong>[ì—¬ëŸ¬ ì¹œêµ¬ ë“±ë¡ ì•ˆë‚´]</strong><br>
                    í•œ ì¹´í…Œê³ ë¦¬ì—ì„œ ì—¬ëŸ¬ ëª…ì„ ì°¾ê³  ì‹¶ë‹¤ë©´ ê°ê° ë”°ë¡œ ì €ì¥í•´ì£¼ì„¸ìš”. 
                    ì˜ˆ: ë™ë„¤ì¹œêµ¬ ì² ìˆ˜ ì €ì¥ â†’ ìƒˆë¡œ ì…ë ¥ â†’ ë™ë„¤ì¹œêµ¬ ì˜í¬ ì €ì¥
                    ì´ë ‡ê²Œ í•´ì•¼ ì² ìˆ˜ì™€ ì˜í¬ê°€ ê°ê° ë‚˜ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </div>
                
                <h3 id="categoryTitle" style="margin-bottom: 20px;">í•™êµì¹œêµ¬ ì •ë³´</h3>
                <div id="detailFields">
                    <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                </div>
                <button class="btn" onclick="saveDetailInfo()">ì´ ì¹œêµ¬ ì •ë³´ ì €ì¥</button>
                <button class="btn btn-secondary" onclick="addAnotherFriend()">ê°™ì€ ì¹´í…Œê³ ë¦¬ ë‹¤ë¥¸ ì¹œêµ¬ ì¶”ê°€</button>
                <button class="btn btn-secondary" onclick="showScreen('categoryScreen')">ì¹´í…Œê³ ë¦¬ ë³€ê²½</button>
                <button class="btn btn-secondary" onclick="findMatches()">ì°¾ì€ ë„ˆ ë³´ê¸°</button>
            </div>
        </div>

        <!-- 5. ë§¤ì¹­ ê²°ê³¼ -->
        <div class="screen" id="matchScreen">
            <div class="card">
                <h3 style="margin-bottom: 20px;">ì°¾ì€ ë„ˆ</h3>
                <div id="matchResults">
                    <!-- ë§¤ì¹­ ê²°ê³¼ê°€ ì—¬ê¸° í‘œì‹œë¨ -->
                </div>
                <button class="btn btn-secondary" onclick="showScreen('detailInfoScreen')">ì •ë³´ ìˆ˜ì •</button>
                <button class="btn btn-secondary" onclick="showScreen('categoryScreen')">ì²˜ìŒìœ¼ë¡œ</button>
            </div>
        </div>

        <!-- 6. ì±„íŒ…ë°© -->
        <div class="screen" id="chatScreen">
            <div class="card">
                <h3 id="chatPartner" style="margin-bottom: 15px;">ì±„íŒ…ë°©</h3>
                <div class="chat-container" id="chatContainer">
                    <div class="message received">ì•ˆë…•í•˜ì„¸ìš”! í˜¹ì‹œ ì €ë¥¼ ê¸°ì–µí•˜ì‹œë‚˜ìš”?</div>
                </div>
                <div class="input-group">
                    <input type="text" id="chatInput" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." onkeypress="if(event.key==='Enter') sendMessage()">
                </div>
                <button class="btn" onclick="sendMessage()">ì „ì†¡</button>
                <button class="btn btn-secondary" onclick="showScreen('matchScreen')">ë‚˜ê°€ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let currentUser = {};
        let allUsers = [];
        let userProfiles = []; // í˜„ì¬ ì‚¬ìš©ìì˜ ì—¬ëŸ¬ í”„ë¡œí•„ë“¤
        let stats = {
            userCount: 0,
            matchAttempts: 0,
            chatStarts: 0
        };

        // ì¹´í…Œê³ ë¦¬ë³„ í•„ë“œ ì •ì˜
        const categoryFields = {
            'í•™êµì¹œêµ¬': [
                { label: 'ì´ë¦„, ë³„ëª…', id: 'friendName', placeholder: 'ê¹€ì² ìˆ˜, ì² ìˆ˜ì•¼' },
                { label: 'í•™êµëª…', id: 'schoolName', placeholder: 'ì„œìš¸ê³ ë“±í•™êµ' },
                { label: 'í•™ê³¼', id: 'major', placeholder: 'ë¬¸ê³¼, ì´ê³¼, ì»´í“¨í„°ê³¼' },
                { label: 'ì˜ í•˜ë˜ ê³¼ëª©', id: 'goodSubjects', placeholder: 'ìˆ˜í•™, ì˜ì–´, ì²´ìœ¡' },
                { label: 'ì¹œêµ¬ì™€ í•™êµì—ì„œ í•´í”„ë‹', id: 'schoolMemories', placeholder: 'ìš´ë™íšŒì—ì„œ ë„˜ì–´ì§„ ì¼, ì‹œí—˜ ì»¤ë‹ ë“¤í‚¨ ì¼' },
                { label: 'ì†Œí’ ìˆ˜í•™ì—¬í–‰ ì–´ë””ë¡œ', id: 'trips', placeholder: 'ê²½ì£¼, ì œì£¼ë„, ì„¤ì•…ì‚°' },
            ],
            'ì‹¤ì¢…ì•„ë™': [
                { label: 'ì§‘ì˜ í˜•íƒœ', id: 'houseType', type: 'select', options: ['í•œì˜¥', 'ì–‘ì˜¥', 'ë‹¤ì„¸ëŒ€', 'ì—°ë¦½', 'ì•„íŒŒíŠ¸'] },
                { label: 'ëª‡ì¸µì— ì‚´ì•˜ëŠ”ì§€', id: 'floor', placeholder: '2ì¸µ, 3ì¸µ' },
                { label: 'ëŒ€ë¬¸ ìƒ‰ê¹”', id: 'gateColor', placeholder: 'ë¹¨ê°„ìƒ‰, íŒŒë€ìƒ‰, ë‚˜ë¬´ìƒ‰' },
                { label: 'ì§‘ ê·¼ì²˜ì— ìˆë˜ ê²ƒë“¤', id: 'nearbyPlaces', placeholder: 'ìš°ë¬¼, ë†€ì´í„°, ê³µì›, ì§€í•˜ì² ì—­' },
            ],
            'ë™ë„¤ì¹œêµ¬': [
                { label: 'ì¹œêµ¬ ì´ë¦„, ë³„ëª…', id: 'friendName', placeholder: 'ê¹€ì² ìˆ˜, ì² ìˆ˜ì•¼' },
                { label: 'ìì£¼ ë†€ë˜ ì¥ì†Œ', id: 'playPlaces', placeholder: 'ë™ë„¤ ë†€ì´í„°, ë¬¸ë°©êµ¬ ì•' },
                { label: 'ì§‘ì˜ í˜•íƒœ', id: 'houseType', type: 'select', options: ['í•œì˜¥', 'ì–‘ì˜¥', 'ë‹¤ì„¸ëŒ€', 'ì—°ë¦½', 'ì•„íŒŒíŠ¸'] },
                { label: 'ê¸°ì–µì— ë‚¨ëŠ” ì‚¬ê±´', id: 'memories', placeholder: 'ê°™ì´ í˜¼ë‚œ ì¼, ì¬ë¯¸ìˆì—ˆë˜ ë†€ì´' },
            ]
        };

        // í™”ë©´ ì „í™˜
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        // ì•± ì‹œì‘
        function startApp() {
            const name = document.getElementById('userName').value;
            const contact = document.getElementById('userContact').value;
            
            if (!name) {
                alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            currentUser.name = name;
            currentUser.contact = contact;
            stats.userCount++;
            updateStats();
            
            showScreen('basicInfoScreen');
        }

        // ê¸°ë³¸ì •ë³´ ì €ì¥
        function saveBasicInfo() {
            const fields = ['basicName', 'birthDate', 'education', 'parents', 'siblings', 'physicalFeatures', 'illnesses', 'neighborhoods', 'others'];
            
            fields.forEach(field => {
                currentUser[field] = document.getElementById(field).value;
            });
            
            showScreen('categoryScreen');
        }

        // ì¹´í…Œê³ ë¦¬ ì„ íƒ
        function selectCategory(category) {
            // ì„ íƒëœ ì¹´í…Œê³ ë¦¬ í•˜ì´ë¼ì´íŠ¸
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            event.target.classList.add('selected');
            
            currentUser.category = category;
            
            // ìƒì„¸ ì •ë³´ í•„ë“œ ìƒì„±
            createDetailFields(category);
            
            setTimeout(() => {
                showScreen('detailInfoScreen');
            }, 300);
        }

        // ìƒì„¸ ì •ë³´ í•„ë“œ ìƒì„±
        function createDetailFields(category) {
            document.getElementById('categoryTitle').textContent = category + ' ì •ë³´';
            const container = document.getElementById('detailFields');
            container.innerHTML = '';
            
            const fields = categoryFields[category] || categoryFields['í•™êµì¹œêµ¬'];
            
            fields.forEach(field => {
                const div = document.createElement('div');
                div.className = 'input-group';
                
                if (field.type === 'select') {
                    div.innerHTML = `
                        <label>${field.label}</label>
                        <select id="${field.id}">
                            <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                            ${field.options.map(opt => `<option value="${opt}">${opt}</option>`).join('')}
                        </select>
                    `;
                } else {
                    div.innerHTML = `
                        <label>${field.label}</label>
                        <textarea id="${field.id}" placeholder="${field.placeholder}"></textarea>
                    `;
                }
                
                container.appendChild(div);
            });
        }

        // ìƒì„¸ì •ë³´ ì €ì¥
        function saveDetailInfo() {
            const category = currentUser.category;
            const fields = categoryFields[category] || categoryFields['í•™êµì¹œêµ¬'];
            
            // ìƒˆ í”„ë¡œí•„ ê°ì²´ ìƒì„±
            let newProfile = {
                ...currentUser, // ê¸°ë³¸ ì •ë³´ ë³µì‚¬
                profileId: Date.now(), // ê³ ìœ  ID
                timestamp: new Date().toLocaleString()
            };
            
            fields.forEach(field => {
                const element = document.getElementById(field.id);
                if (element) {
                    newProfile[field.id] = element.value;
                }
            });
            
            // í˜„ì¬ ì‚¬ìš©ìì˜ í”„ë¡œí•„ ëª©ë¡ì— ì¶”ê°€
            userProfiles.push(newProfile);
            
            // ì „ì²´ ì‚¬ìš©ì ëª©ë¡ì—ë„ ì¶”ê°€ (ë§¤ì¹­ìš©)
            allUsers.push({...newProfile});
            
            alert(`${category} ì •ë³´ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!\nì´ ${userProfiles.length}ê°œì˜ í”„ë¡œí•„ì´ ë“±ë¡ë˜ì—ˆì–´ìš”.`);
            
            // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            clearDetailFields();
        }
        
        // ê°™ì€ ì¹´í…Œê³ ë¦¬ ë‹¤ë¥¸ ì¹œêµ¬ ì¶”ê°€
        function addAnotherFriend() {
            clearDetailFields();
            alert('ê°™ì€ ì¹´í…Œê³ ë¦¬ì—ì„œ ë‹¤ë¥¸ ì¹œêµ¬ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        }
        
        // ìƒì„¸ ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
        function clearDetailFields() {
            const category = currentUser.category;
            const fields = categoryFields[category] || categoryFields['í•™êµì¹œêµ¬'];
            
            fields.forEach(field => {
                const element = document.getElementById(field.id);
                if (element) {
                    element.value = '';
                }
            });
        }

        // ë§¤ì¹­ ì°¾ê¸°
        function findMatches() {
            stats.matchAttempts++;
            updateStats();
            
            // ê°„ë‹¨í•œ ë§¤ì¹­ ë¡œì§ (ì‹¤ì œë¡œëŠ” ë” ë³µì¡í•¨)
            const matches = generateSampleMatches();
            
            const container = document.getElementById('matchResults');
            container.innerHTML = '';
            
            // ë“±ë¡ëœ í”„ë¡œí•„ ìˆ˜ í‘œì‹œ
            if (userProfiles.length > 0) {
                const profileInfo = document.createElement('div');
                profileInfo.style.cssText = 'background: #e3f2fd; padding: 10px; border-radius: 8px; margin-bottom: 15px; font-size: 14px;';
                profileInfo.innerHTML = `ğŸ“‹ ë‚´ê°€ ë“±ë¡í•œ í”„ë¡œí•„: <strong>${userProfiles.length}ê°œ</strong><br>ê° í”„ë¡œí•„ë§ˆë‹¤ ë§¤ì¹­ì„ ì‹œë„í•©ë‹ˆë‹¤.`;
                container.appendChild(profileInfo);
            }
            
            if (matches.length === 0) {
                container.innerHTML += '<p style="text-align: center; color: #666;">ì•„ì§ ë§¤ì¹­ë˜ëŠ” ë¶„ì´ ì—†ìŠµë‹ˆë‹¤.<br>ë” ë§ì€ ë¶„ë“¤ì´ ê°€ì…í•˜ë©´ ì—°ê²°í•´ë“œë¦´ê²Œìš”!</p>';
            } else {
                matches.forEach(match => {
                    const div = document.createElement('div');
                    div.className = 'match-item';
                    div.onclick = () => startChat(match.name);
                    div.innerHTML = `
                        <div class="match-name">${match.name}</div>
                        <div class="match-score">ë§¤ì¹­ ì ìˆ˜: ${match.score}ì </div>
                    `;
                    container.appendChild(div);
                });
            }
            
            showScreen('matchScreen');
        }

        // ìƒ˜í”Œ ë§¤ì¹­ ê²°ê³¼ ìƒì„±
        function generateSampleMatches() {
            const sampleNames = ['ê¹€ì˜í¬', 'ë°•ì² ìˆ˜', 'ì´ë¯¸ì˜', 'ì •ë™ìœ¤'];
            return sampleNames.map(name => ({
                name: name,
                score: Math.floor(Math.random() * 50) + 50
            })).sort((a, b) => b.score - a.score);
        }

        // ì±„íŒ… ì‹œì‘
        function startChat(partnerName) {
            stats.chatStarts++;
            updateStats();
            
            document.getElementById('chatPartner').textContent = partnerName + 'ë‹˜ê³¼ì˜ ì±„íŒ…';
            showScreen('chatScreen');
        }

        // ë©”ì‹œì§€ ì „ì†¡
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message sent';
            messageDiv.textContent = message;
            chatContainer.appendChild(messageDiv);
            
            input.value = '';
            chatContainer.scrollTop = chatContainer.scrollHeight;
            
            // ìë™ ì‘ë‹µ (í…ŒìŠ¤íŠ¸ìš©)
            setTimeout(() => {
                const autoReply = document.createElement('div');
                autoReply.className = 'message received';
                autoReply.textContent = getAutoReply(message);
                chatContainer.appendChild(autoReply);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }, 1000);
        }

        // ìë™ ì‘ë‹µ ìƒì„±
        function getAutoReply(message) {
            const replies = [
                'ë„¤, ë§ì•„ìš”! ê¸°ì–µë‚˜ë„¤ìš”.',
                'ì •ë§ ì˜¤ëœë§Œì´ì—ìš”!',
                'ê·¸ë•Œ ê·¸ ì¼ ê¸°ì–µí•˜ì„¸ìš”?',
                'ì—°ë½ì²˜ êµí™˜í• ê¹Œìš”?',
                'ì§ì ‘ ë§Œë‚˜ì„œ ì´ì•¼ê¸°í•´ìš”!'
            ];
            return replies[Math.floor(Math.random() * replies.length)];
        }

        // í†µê³„ ì—…ë°ì´íŠ¸
        function updateStats() {
            document.getElementById('userCount').textContent = stats.userCount;
            document.getElementById('matchAttempts').textContent = stats.matchAttempts;
            document.getElementById('chatStarts').textContent = stats.chatStarts;
        }

        // ë°ì´í„° ìˆ˜ì§‘ (ê°œë°œììš©)
        function collectTestData() {
            return {
                totalUsers: stats.userCount,
                matchAttempts: stats.matchAttempts,
                chatStarts: stats.chatStarts,
                conversionRate: stats.userCount > 0 ? (stats.matchAttempts / stats.userCount * 100).toFixed(1) + '%' : '0%',
                chatRate: stats.matchAttempts > 0 ? (stats.chatStarts / stats.matchAttempts * 100).toFixed(1) + '%' : '0%'
            };
        }

        // í˜ì´ì§€ ë¡œë“œì‹œ í†µê³„ ì´ˆê¸°í™”
        window.onload = function() {
            updateStats();
        };
    </script>
</body>
</html>
